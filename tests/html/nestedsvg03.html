<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="text/javascript">
        function matrix_to_string(m) {
            if (m === null) return 'null';
            return '[' + m.a + ', ' + m.b + ', ' + m.c + ', ' + m.d + ', ' + m.e + ', ' + m.f + ']';
        }
        window.onload = function() {
            var root = document.getElementById('svg01');
            root.currentScale = 0.8;
            var output = document.getElementById('output');
            [].forEach.call(document.getElementsByClassName('result'),
                            function (element) {
                var tr = document.createElement('tr');
                var td;
                td = document.createElement('td');
                td.textContent = element.id;
                tr.appendChild(td);
                td = document.createElement('td');
                td.textContent = element.nodeName;
                tr.appendChild(td);
                td = document.createElement('td');
                td.textContent = element.getAttribute('stroke');
                tr.appendChild(td);
                var ctm = element.getCTM();
                td = document.createElement('td');
                td.textContent = matrix_to_string(ctm);
                tr.appendChild(td);
                var ctm = element.getScreenCTM();
                td = document.createElement('td');
                td.textContent = matrix_to_string(ctm);
                tr.appendChild(td);
                output.appendChild(tr);
            });
        }
    </script>
</head>
<body>
<svg width="400" height="200" viewBox="0 0 400 400"
     preserveAspectRatio="xMidYMid meet"
     zoomAndPan="magnify"
     id="svg01" class="result"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
    <rect x="1" y="1" width="399" height="399"
          fill="none" stroke="blue" stroke-width="1"/>
    <rect x="1" y="1" width="100" height="100"
          transform="translate(30) rotate(15)"
          id="rect01" class="result"
          fill="none" stroke="blue" stroke-width="5"/>
    <svg x="30" y="40" preserveAspectRatio="xMidYMid meet"
         id="svg02" class="result">
        <rect x="1" y="1" width="100" height="100"
              transform="translate(30) rotate(15)"
              id="rect02" class="result"
              fill="none" stroke="red" stroke-width="5"/>
        <svg x="30" y="40" width="100" height="80"
             preserveAspectRatio="xMidYMid meet"
             id="svg03" class="result">
            <rect x="1" y="1" width="100" height="100"
                  transform="translate(30) rotate(15)"
                  id="rect03" class="result"
                  fill="none" stroke="green" stroke-width="5"/>
        </svg>
    </svg>
</svg>
<table id="output" border="1">
    <tr>
        <th>id</th>
        <th>name</th>
        <th>stroke</th>
        <th>CTM</th>
        <th>ScreenCTM</th>
    </tr>
</table>
</body>
</html>
